webpackJsonp([3],{IFZV:function(e,t){},WZG5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("\n    图片管理\n  ")]),e._v(" "),a("div",[a("el-input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{placeholder:"输入导游姓名查找...","prefix-icon":"el-icon-search",size:"small",clearable:""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-around","flex-wrap":"wrap","text-align":"left","margin-top":"20px"}},e._l(e.guides,function(t,i){return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.cardLoading[i],expression:"cardLoading[index]"}],key:t.id,staticStyle:{width:"350px","margin-bottom":"20px"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.name))])]),e._v(" "),a("div",[a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center"}},[a("img",{staticStyle:{width:"70px",height:"70px","border-radius":"70px"},attrs:{src:t.imgUrl,alt:"item.name"}})]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("div",[a("span",{staticClass:"user-info"},[e._v("用户名:"+e._s(t.userName))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("专业:"+e._s(t.major))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("手机号码:"+e._s(t.phone))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("籍贯:"+e._s(t.nativePlace))])]),e._v(" "),a("div",{staticClass:"user-info",staticStyle:{display:"flex","align-items":"center","margin-bottom":"3px"}},[e._v("\n            用户状态:\n            "),a("el-switch",{key:t.id,staticStyle:{display:"inline","margin-left":"5px"},attrs:{"active-color":"#13ce66","inactive-color":"#aaaaaa","active-text":"启用","inactive-text":"禁用"},on:{change:function(a){e.stateChange(t.yn,t,i)}},model:{value:t.yn,callback:function(a){e.$set(t,"yn",a)},expression:"item.yn"}})],1),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("负责地点:"+e._s(t.placeNameCh))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("导游宣言:"+e._s(t.remark))])])])])])})),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[9,27,36,45],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("span",[e._v("操作成功！")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)])],1)],1)},staticRenderFns:[]};var s=a("VU/8")({data:function(){return{guides:[],cardLoading:[],userName:"",placeName:"",state:"",totals:0,pageNum:1,pageSize:9,centerDialogVisible:!1,dialogFormVisible:!1,picDialogVisible:!1,minIsActive:!0,maxIsActive:!1}},mounted:function(){this.loadGuideCount(),this.loadGuides()},methods:{loadGuides:function(){var e=this;this.getRequest("/guide/manage/findGuideListPage?pageNum=1&pageSize=9&userName=&placeName=").then(function(t){if(t&&200==t.status){var a=t.data;e.guides=a}})},loadGuideCount:function(){var e=this;this.getRequest("/guide/manage/findGuideCount?userName=&placeName=").then(function(t){if(t&&200==t.status){var a=t.data;e.totals=a}})},handleSizeChange:function(e){var t=this;t.pageSize=e,this.getRequest("/guide/manage/findGuideListPage?pageNum="+t.pageNum+"&pageSize="+t.pageSize+"&userName="+t.userName+"&placeName=").then(function(e){if(e&&200==e.status){var a=e.data;t.guides=a}}),this.getRequest("/guide/manage/findGuideCount?userName="+t.userName+"&placeName=").then(function(e){if(e&&200==e.status){var a=e.data;t.totals=a}})},handleCurrentChange:function(e){var t=this;t.pageNum=e,this.getRequest("/gudie/manage/findGuideListPage?pageNum="+t.pageNum+"&pageSize="+t.pageSize+"&userName="+t.userName+"&placeName=").then(function(e){if(e&&200==e.status){var a=e.data;t.guides=a}}),this.getRequest("/guide/manage/findGuideCount?picName="+t.userName+"&placeName=").then(function(e){if(e&&200==e.status){var a=e.data;t.totals=a}})},stateChange:function(e,t,a){var i=this;e=e?1:0,i.cardLoading.splice(a,1,!0),this.putRequest("/guide/manage/updateYn",{userId:t.userId,placeId:t.placeId,yn:e}).then(function(t){i.cardLoading.splice(a,1,!1),t&&200==t.status?(t.data,i.state=e,i.success()):i.failed()})},search:function(){var e=this,t=this;this.getRequest("/guide/manage/findGuideListPage?pageNum="+t.pageNum+"&pageSize="+t.pageSize+"&userName="+t.userName+"&placeName=").then(function(e){if(e&&200==e.status){var a=e.data;t.guides=a}}),this.getRequest("/guide/manage/findGuideCount?userName="+t.userName+"&placeName=").then(function(a){if(a&&200==a.status){var i=a.data;t.totals=i,0==t.totals&&e.$notify({title:"未查询到相关导游信息",type:"info",message:"请您尝试更换一个检索词！",position:"bottom-right"})}})},success:function(){this.$message({message:"导游状态修改操作成功！",type:"success"})},failed:function(){this.$message.error("操作失败！")}}},i,!1,function(e){a("IFZV")},"data-v-687f7330",null);t.default=s.exports},aeLC:function(e,t,a){var i={"./GuideManage.vue":"WZG5"};function s(e){return a(n(e))}function n(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id="aeLC"}});
//# sourceMappingURL=3.1d5840e11926f6b54c0f.js.map