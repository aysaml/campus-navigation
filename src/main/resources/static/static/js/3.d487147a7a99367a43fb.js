webpackJsonp([3],{VTxv:function(e,a){},WZG5:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("\n    导游管理\n  ")]),e._v(" "),t("div",[t("el-input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{placeholder:"输入导游姓名查找...","prefix-icon":"el-icon-search",size:"small",clearable:""},model:{value:e.userName,callback:function(a){e.userName=a},expression:"userName"}}),e._v(" "),t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),t("div",{staticStyle:{display:"flex","justify-content":"space-around","flex-wrap":"wrap","text-align":"left","margin-top":"20px"}},e._l(e.guides,function(a,i){return t("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.cardLoading[i],expression:"cardLoading[index]"}],key:a.id,staticStyle:{width:"350px","margin-bottom":"20px"},attrs:{shadow:"hover"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(a.name))])]),e._v(" "),t("div",[t("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center"}},[t("img",{staticStyle:{width:"70px",height:"70px","border-radius":"70px"},attrs:{src:a.imgUrl,alt:"item.name"}})]),e._v(" "),t("div",{staticStyle:{"margin-top":"20px"}},[t("div",[t("span",{staticClass:"user-info"},[e._v("用户名:"+e._s(a.userName))])]),e._v(" "),t("div",[t("span",{staticClass:"user-info"},[e._v("专业:"+e._s(a.major))])]),e._v(" "),t("div",[t("span",{staticClass:"user-info"},[e._v("手机号码:"+e._s(a.phone))])]),e._v(" "),t("div",[t("span",{staticClass:"user-info"},[e._v("籍贯:"+e._s(a.nativePlace))])]),e._v(" "),t("div",{staticClass:"user-info",staticStyle:{display:"flex","align-items":"center","margin-bottom":"3px"}},[e._v("\n            用户状态:\n            "),t("el-switch",{key:a.id,staticStyle:{display:"inline","margin-left":"5px"},attrs:{"active-color":"#13ce66","inactive-color":"#aaaaaa","active-text":"启用","inactive-text":"禁用"},on:{change:function(t){e.stateChange(a.yn,a,i)}},model:{value:a.yn,callback:function(t){e.$set(a,"yn",t)},expression:"item.yn"}})],1),e._v(" "),t("div",[t("span",{staticClass:"user-info"},[e._v("负责地点:"+e._s(a.placeNameCh))])]),e._v(" "),t("div",[t("span",{staticClass:"user-info"},[e._v("导游宣言:"+e._s(a.remark))])])])])])})),e._v(" "),t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[9,27,36,45],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("div",[t("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(a){e.centerDialogVisible=a}}},[t("span",[e._v("操作成功！")]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)])],1)],1)},staticRenderFns:[]};var s=t("VU/8")({data:function(){return{guides:[],cardLoading:[],userName:"",placeName:"",state:"",totals:0,pageNum:1,pageSize:9,centerDialogVisible:!1,dialogFormVisible:!1,picDialogVisible:!1,minIsActive:!0,maxIsActive:!1}},mounted:function(){this.loadGuideCount(),this.loadGuides()},methods:{loadGuides:function(){var e=this;this.getRequest("/guide/manage/findGuideListPage?pageNum=1&pageSize=9&userName=&placeName=").then(function(a){if(a&&200==a.status){var t=a.data;e.guides=t}})},loadGuideCount:function(){var e=this;this.getRequest("/guide/manage/findGuideCount?userName=&placeName=").then(function(a){if(a&&200==a.status){var t=a.data;e.totals=t}})},handleSizeChange:function(e){var a=this;a.pageSize=e,this.getRequest("/guide/manage/findGuideListPage?pageNum="+a.pageNum+"&pageSize="+a.pageSize+"&userName="+a.userName+"&placeName=").then(function(e){if(e&&200==e.status){var t=e.data;a.guides=t}}),this.getRequest("/guide/manage/findGuideCount?userName="+a.userName+"&placeName=").then(function(e){if(e&&200==e.status){var t=e.data;a.totals=t}})},handleCurrentChange:function(e){var a=this;a.pageNum=e,this.getRequest("/gudie/manage/findGuideListPage?pageNum="+a.pageNum+"&pageSize="+a.pageSize+"&userName="+a.userName+"&placeName=").then(function(e){if(e&&200==e.status){var t=e.data;a.guides=t}}),this.getRequest("/guide/manage/findGuideCount?picName="+a.userName+"&placeName=").then(function(e){if(e&&200==e.status){var t=e.data;a.totals=t}})},stateChange:function(e,a,t){var i=this;e=e?1:0,i.cardLoading.splice(t,1,!0),this.putRequest("/guide/manage/updateYn",{userId:a.userId,placeId:a.placeId,yn:e}).then(function(a){i.cardLoading.splice(t,1,!1),a&&200==a.status?(a.data,i.state=e,i.success()):i.failed()})},search:function(){var e=this,a=this;this.getRequest("/guide/manage/findGuideListPage?pageNum="+a.pageNum+"&pageSize="+a.pageSize+"&userName="+a.userName+"&placeName=").then(function(e){if(e&&200==e.status){var t=e.data;a.guides=t}}),this.getRequest("/guide/manage/findGuideCount?userName="+a.userName+"&placeName=").then(function(t){if(t&&200==t.status){var i=t.data;a.totals=i,0==a.totals&&e.$notify({title:"未查询到相关导游信息",type:"info",message:"请您尝试更换一个检索词！",position:"bottom-right"})}})},success:function(){this.$message({message:"导游状态修改操作成功！",type:"success"})},failed:function(){this.$message.error("操作失败！")}}},i,!1,function(e){t("VTxv")},"data-v-3b22e8ac",null);a.default=s.exports},aeLC:function(e,a,t){var i={"./GuideManage.vue":"WZG5"};function s(e){return t(n(e))}function n(e){var a=i[e];if(!(a+1))throw new Error("Cannot find module '"+e+"'.");return a}s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id="aeLC"}});
//# sourceMappingURL=3.d487147a7a99367a43fb.js.map