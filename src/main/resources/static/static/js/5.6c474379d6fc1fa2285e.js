webpackJsonp([5],{"H+0x":function(e,t,a){var l={"./PlaceManage.vue":"Y6cj"};function i(e){return a(s(e))}function s(e){var t=l[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(l)},i.resolve=s,e.exports=i,i.id="H+0x"},VVNJ:function(e,t){},Y6cj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("地点管理")]),e._v(" "),a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入地点的中文名称",size:"small",clearable:""},model:{value:e.searchParam,callback:function(t){e.searchParam=t},expression:"searchParam"}}),e._v(" "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"small",placeholder:"状态",clearable:""},on:{change:e.stateChange},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.searchFor}},[e._v("搜索")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.places,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"英文名称",align:"left"}},[a("span",[e._v(e._s(t.row.placeNameEn))])]),e._v(" "),a("el-form-item",{attrs:{label:"创建时间",align:"left"}},[a("span",[e._v(e._s(t.row.createTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"更新时间",align:"left"}},[a("span",[e._v(e._s(t.row.updateTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"操作人",align:"left"}},[a("span",[e._v(e._s(t.row.operator))])]),e._v(" "),a("el-tooltip",{attrs:{content:"待审核（-1）,审核通过（1）,审核不通过（0）",placement:"bottom",effect:"light"}},[a("el-form-item",{attrs:{label:"状态",align:"left"}},[a("span",[e._v(e._s(t.row.yn))])])],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",align:"left"}},[a("span",[e._v(e._s(t.row.descr))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"地点 ID",prop:"id",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"地点名称",prop:"placeNameCh",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"别名",prop:"alias",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(a){e.examine(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(a){e.delPlace(t.row)}}})]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("span",[e._v("操作成功！")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.form}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:"地点审核","close-on-click-modal":!1,visible:e.dialogFormVisible,width:"77%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"地点编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini",disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"中文名称:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini"},model:{value:e.form.placeNameCh,callback:function(t){e.$set(e.form,"placeNameCh",t)},expression:"form.placeNameCh"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"英文名称:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini"},model:{value:e.form.placeNameEn,callback:function(t){e.$set(e.form,"placeNameEn",t)},expression:"form.placeNameEn"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"地点别名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini"},model:{value:e.form.alias,callback:function(t){e.$set(e.form,"alias",t)},expression:"form.alias"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"创建日期:"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"创建日期"},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"更新日期:"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"更新日期"},model:{value:e.form.updateTime,callback:function(t){e.$set(e.form,"updateTime",t)},expression:"form.updateTime"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"审核人员:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请填写管理账号Id"},model:{value:e.form.operator,callback:function(t){e.$set(e.form,"operator",t)},expression:"form.operator"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"审核状态:"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"状态",clearable:""},on:{change:e.ynChange},model:{value:e.form.yn,callback:function(t){e.$set(e.form,"yn",t)},expression:"form.yn"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)])],1),e._v(" "),a("el-row",[a("div",[a("el-form-item",{attrs:{label:"地点描述："}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.descr,expression:"form.descr"}],staticStyle:{width:"956px",height:"104px"},domProps:{value:e.form.descr},on:{input:function(t){t.target.composing||e.$set(e.form,"descr",t.target.value)}}})])],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updatePlace}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var i=a("VU/8")({data:function(){return{places:[],options:[{value:"-1",label:"待审核（-1）"},{value:"1",label:"审核通过（1）"},{value:"0",label:"审核不通过（0）"}],multipleSelection:[],totals:0,pageNum:1,pageSize:10,searchParam:"",state:"",centerDialogVisible:!1,dialogFormVisible:!1,form:{id:"",placeNameCh:"",placeNameEn:"",alias:"",descr:"",createTime:"",updateTime:"",operator:"",yn:[]}}},mounted:function(){this.loadPlaces(),this.loadPlacesCount()},methods:{loadPlaces:function(){var e=this;this.getRequest("/place/manage/findPlaceListPage?pageNum=1&pageSize=10&placeNameCh=&yn=").then(function(t){if(t&&200==t.status){var a=t.data;e.places=a}})},loadPlacesCount:function(){var e=this;this.getRequest("/place/manage/findPlaceCount?searchParam=&yn=").then(function(t){if(t&&200==t.status){var a=t.data;e.totals=a}})},handleSizeChange:function(e){var t=this;t.pageSize=e,this.getRequest("/place/manage/findPlaceListPage?pageNum="+t.pageNum+"&pageSize="+t.pageSize+"&placeNameCh="+t.searchParam+"&yn="+t.state).then(function(e){if(e&&200==e.status){var a=e.data;t.places=a}}),this.getRequest("/place/manage/findPlaceCount?searchParam="+t.searchParam+"&yn="+t.state).then(function(e){if(e&&200==e.status){var a=e.data;t.totals=a}})},handleCurrentChange:function(e){var t=this;t.pageNum=e,this.getRequest("/place/manage/findPlaceListPage?pageNum="+t.pageNum+"&pageSize="+t.pageSize+"&placeNameCh="+t.searchParam+"&yn="+t.state).then(function(e){if(e&&200==e.status){var a=e.data;t.places=a}}),this.getRequest("/place/manage/findPlaceCount?searchParam="+t.searchParam+"&yn="+t.state).then(function(e){if(e&&200==e.status){var a=e.data;t.totals=a}})},stateChange:function(e){this.state=e},searchFor:function(){var e=this;this.getRequest("/place/manage/findPlaceListPage?pageNum="+e.pageNum+"&pageSize="+e.pageSize+"&placeNameCh="+e.searchParam+"&yn="+e.state).then(function(t){if(t&&200==t.status){var a=t.data;e.places=a}}),this.getRequest("/place/manage/findPlaceCount?searchParam="+e.searchParam+"&yn="+e.state).then(function(t){if(t&&200==t.status){var a=t.data;e.totals=a}})},delPlace:function(e){var t=this;this.$confirm("此操作将永久删除["+e.placeNameCh+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){var t=this;this.deleteRequest("/place/manage/delete?id="+e).then(function(e){0==e.data&&200==e.status&&(t.centerDialogVisible=!0,t.loadPlaces(),t.loadPlacesCount())})},examine:function(e){this.dialogFormVisible=!0,this.form.id=e.id,this.form.placeNameCh=e.placeNameCh,this.form.placeNameEn=e.placeNameEn,this.form.alias=e.alias,this.form.descr=e.descr,this.form.createTime=e.createTime,this.form.updateTime=e.updateTime,this.form.operator=e.operator,this.form.yn=e.yn},ynChange:function(e){this.form.yn=e},updatePlace:function(){var e=this,t={id:e.form.id,placeNameCh:e.form.placeNameCh,placeNameEn:this.form.placeNameEn,alias:this.form.alias,descr:this.form.descr,createTime:this.form.createTime,updateTime:this.form.updateTime,operator:this.form.operator,yn:this.form.yn};this.postRequest("/place/manage/update",{place:t}).then(function(t){t&&200==t.status&&0==t.data?(e.success(),e.loadPlaces(),e.loadPlacesCount()):e.failed()}),e.dialogFormVisible=!1},success:function(){this.$message({message:"地点审核操作成功！",type:"success"})},failed:function(){this.$message.error("操作失败！")}}},l,!1,function(e){a("VVNJ")},null,null);t.default=i.exports}});
//# sourceMappingURL=5.6c474379d6fc1fa2285e.js.map